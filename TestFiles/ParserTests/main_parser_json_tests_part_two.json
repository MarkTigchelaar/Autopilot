[
    {
        "file": "../Testfiles/ParserTests/toJSONTestsPt2/test1.ap",
        "ast": [
            {
                "type": "unittest",
                "name": {
                    "literal": "my_unittest",
                    "type": "IDENTIFIER",
                    "line_number": 1,
                    "column_number": 10
                },
                "statements": [
                    {
                        "type": "while_loop",
                        "name": {
                            "literal": "thing",
                            "type": "IDENTIFIER",
                            "line_number": 2,
                            "column_number": 19
                        },
                        "expression": {
                            "type": "identifier_or_literal",
                            "token": {
                                "literal": "true",
                                "type": "TRUE",
                                "line_number": 2,
                                "column_number": 11
                            }
                        },
                        "statememts": [
                            {
                                "type": "defer",
                                "expression": {
                                    "type": "reassign_or_call",
                                    "lvalue": {
                                        "type": "function_call",
                                        "fn_name": {
                                            "type": "identifier_or_literal",
                                            "token": {
                                                "literal": "athing",
                                                "type": "IDENTIFIER",
                                                "line_number": 3,
                                                "column_number": 15
                                            }
                                        },
                                        "arguments": []
                                    },
                                    "assignment_type_token": {},
                                    "rvalue": {}
                                }
                            },
                            {
                                "type": "if",
                                "assignment_type": {},
                                "unwrapped_option": {},
                                "option": {},
                                "expression": {
                                    "type": "identifier_or_literal",
                                    "token": {
                                        "literal": "true",
                                        "type": "TRUE",
                                        "line_number": 4,
                                        "column_number": 12
                                    }
                                },
                                "statememts": [
                                    {
                                        "type": "continue"
                                    }
                                ],
                                "next_stmt_in_block": {
                                    "type": "elif",
                                    "assignment_type": {},
                                    "unwrapped_option": {},
                                    "option": {},
                                    "expression": {
                                        "type": "identifier_or_literal",
                                        "token": {
                                            "literal": "true",
                                            "type": "TRUE",
                                            "line_number": 6,
                                            "column_number": 14
                                        }
                                    },
                                    "statememts": [
                                        {
                                            "type": "return",
                                            "expression": null
                                        }
                                    ],
                                    "next_stmt_in_block": {
                                        "type": "else",
                                        "statememts": [
                                            {
                                                "type": "break",
                                                "destination": {}
                                            }
                                        ]
                                    }
                                }
                            },
                            {
                                "type": "for_loop",
                                "name": {
                                    "literal": "loopy_loop",
                                    "type": "IDENTIFIER",
                                    "line_number": 11,
                                    "column_number": 32
                                },
                                "optional_assignment_type": {},
                                "unwrapped_optional": {},
                                "second_unwrapped_optional": {},
                                "optional_collection": {},
                                "collection": {},
                                "index_or_key_name": {
                                    "literal": "i",
                                    "type": "IDENTIFIER",
                                    "line_number": 11,
                                    "column_number": 13
                                },
                                "value_name": {},
                                "range_start": {
                                    "literal": "1",
                                    "type": "INT",
                                    "line_number": 11,
                                    "column_number": 18
                                },
                                "range_stop": {
                                    "literal": "10",
                                    "type": "INT",
                                    "line_number": 11,
                                    "column_number": 23
                                },
                                "range_step": {
                                    "literal": "5",
                                    "type": "INT",
                                    "line_number": 11,
                                    "column_number": 27
                                },
                                "statememts": [
                                    {
                                        "type": "switch",
                                        "test_expression": {
                                            "type": "identifier_or_literal",
                                            "token": {
                                                "literal": "some_var",
                                                "type": "IDENTIFIER",
                                                "line_number": 12,
                                                "column_number": 20
                                            }
                                        },
                                        "cases": [
                                            {
                                                "values": [
                                                    {
                                                        "literal": "1",
                                                        "type": "INT",
                                                        "line_number": 13,
                                                        "column_number": 18
                                                    }
                                                ],
                                                "statements": [
                                                    {
                                                        "type": "assignment",
                                                        "token": {
                                                            "literal": "a",
                                                            "type": "IDENTIFIER",
                                                            "line_number": 14,
                                                            "column_number": 21
                                                        },
                                                        "variable_type": {
                                                            "literal": "int",
                                                            "type": "INT",
                                                            "line_number": 14,
                                                            "column_number": 26
                                                        },
                                                        "assignment_type": {
                                                            "literal": "let",
                                                            "type": "LET",
                                                            "line_number": 14,
                                                            "column_number": 17
                                                        },
                                                        "rvalue": {
                                                            "type": "identifier_or_literal",
                                                            "token": {
                                                                "literal": "0",
                                                                "type": "INT",
                                                                "line_number": 14,
                                                                "column_number": 32
                                                            }
                                                        }
                                                    }
                                                ]
                                            }
                                        ],
                                        "default_case": {
                                            "values": [],
                                            "statements": [
                                                {
                                                    "type": "loop",
                                                    "name": {
                                                        "literal": "named_loop",
                                                        "type": "IDENTIFIER",
                                                        "line_number": 16,
                                                        "column_number": 25
                                                    },
                                                    "statememts": [
                                                        {
                                                            "type": "reassign_or_call",
                                                            "lvalue": {
                                                                "type": "method_call",
                                                                "struct": {
                                                                    "type": "identifier_or_literal",
                                                                    "token": {
                                                                        "literal": "some_struct",
                                                                        "type": "IDENTIFIER",
                                                                        "line_number": 17,
                                                                        "column_number": 21
                                                                    }
                                                                },
                                                                "methods": [
                                                                    {
                                                                        "type": "method_call",
                                                                        "struct": {
                                                                            "type": "collection_access",
                                                                            "collection_name": {
                                                                                "type": "identifier_or_literal",
                                                                                "token": {
                                                                                    "literal": "field",
                                                                                    "type": "IDENTIFIER",
                                                                                    "line_number": 17,
                                                                                    "column_number": 33
                                                                                }
                                                                            },
                                                                            "arguments": [
                                                                                {
                                                                                    "type": "identifier_or_literal",
                                                                                    "token": {
                                                                                        "literal": "i",
                                                                                        "type": "IDENTIFIER",
                                                                                        "line_number": 17,
                                                                                        "column_number": 39
                                                                                    }
                                                                                }
                                                                            ]
                                                                        },
                                                                        "methods": [
                                                                            {
                                                                                "type": "method_call",
                                                                                "struct": {
                                                                                    "type": "function_call",
                                                                                    "fn_name": {
                                                                                        "type": "identifier_or_literal",
                                                                                        "token": {
                                                                                            "literal": "method",
                                                                                            "type": "IDENTIFIER",
                                                                                            "line_number": 17,
                                                                                            "column_number": 42
                                                                                        }
                                                                                    },
                                                                                    "arguments": []
                                                                                },
                                                                                "methods": [
                                                                                    {
                                                                                        "type": "function_call",
                                                                                        "fn_name": {
                                                                                            "type": "identifier_or_literal",
                                                                                            "token": {
                                                                                                "literal": "method",
                                                                                                "type": "IDENTIFIER",
                                                                                                "line_number": 17,
                                                                                                "column_number": 51
                                                                                            }
                                                                                        },
                                                                                        "arguments": [
                                                                                            {
                                                                                                "type": "identifier_or_literal",
                                                                                                "token": {
                                                                                                    "literal": "1",
                                                                                                    "type": "INT",
                                                                                                    "line_number": 17,
                                                                                                    "column_number": 58
                                                                                                }
                                                                                            },
                                                                                            {
                                                                                                "type": "identifier_or_literal",
                                                                                                "token": {
                                                                                                    "literal": "2",
                                                                                                    "type": "INT",
                                                                                                    "line_number": 17,
                                                                                                    "column_number": 60
                                                                                                }
                                                                                            },
                                                                                            {
                                                                                                "type": "identifier_or_literal",
                                                                                                "token": {
                                                                                                    "literal": "3",
                                                                                                    "type": "INT",
                                                                                                    "line_number": 17,
                                                                                                    "column_number": 62
                                                                                                }
                                                                                            }
                                                                                        ]
                                                                                    }
                                                                                ]
                                                                            }
                                                                        ]
                                                                    }
                                                                ]
                                                            },
                                                            "assignment_type_token": {},
                                                            "rvalue": {}
                                                        },
                                                        {
                                                            "type": "if",
                                                            "assignment_type": {},
                                                            "unwrapped_option": {},
                                                            "option": {},
                                                            "expression": {
                                                                "type": "identifier_or_literal",
                                                                "token": {
                                                                    "literal": "true",
                                                                    "type": "TRUE",
                                                                    "line_number": 18,
                                                                    "column_number": 24
                                                                }
                                                            },
                                                            "statememts": [
                                                                {
                                                                    "type": "break",
                                                                    "destination": {
                                                                        "literal": "loopy_loop",
                                                                        "type": "IDENTIFIER",
                                                                        "line_number": 19,
                                                                        "column_number": 31
                                                                    }
                                                                }
                                                            ],
                                                            "next_stmt_in_block": {}
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "break",
                                                    "destination": {}
                                                }
                                            ]
                                        }
                                    }
                                ]
                            }
                        ]
                    }
                ]
            }
        ],
        "errors" : null
    },
    {
        "file": "../Testfiles/ParserTests/toJSONTestsPt2/test2.ap",
        "ast": [
            {
                "type": "function",
                "header": {
                    "type": "function_header",
                    "name": {
                        "literal": "main",
                        "type": "IDENTIFIER",
                        "line_number": 3,
                        "column_number": 16
                    },
                    "arguments": [],
                    "return_type": {},
                    "header_attributes": {
                        "acyclic": {},
                        "public": false
                    }
                },
                "attributes": {
                    "acyclic": {},
                    "public": {
                        "literal": "pub",
                        "type": "PUB",
                        "line_number": 3,
                        "column_number": 8
                    },
                    "inline": {
                        "literal": "inline",
                        "type": "INLINE",
                        "line_number": 3,
                        "column_number": 1
                    }
                },
                "statements": [
                    {
                        "type": "assignment",
                        "token": {
                            "literal": "a",
                            "type": "IDENTIFIER",
                            "line_number": 4,
                            "column_number": 9
                        },
                        "variable_type": {},
                        "assignment_type": {
                            "literal": "let",
                            "type": "LET",
                            "line_number": 4,
                            "column_number": 5
                        },
                        "rvalue": {
                            "type": "collection",
                            "left_delimiter": "LEFT_BRACE",
                            "elements": [
                                {
                                    "type": "binary",
                                    "token": {
                                        "literal": ":",
                                        "type": "COLON",
                                        "line_number": 5,
                                        "column_number": 13
                                    },
                                    "lhs_exp": {
                                        "type": "identifier_or_literal",
                                        "token": {
                                            "literal": "\"a\"",
                                            "type": "STRING",
                                            "line_number": 5,
                                            "column_number": 9
                                        }
                                    },
                                    "rhs_exp": {
                                        "type": "function_call",
                                        "fn_name": {
                                            "type": "identifier_or_literal",
                                            "token": {
                                                "literal": "test",
                                                "type": "IDENTIFIER",
                                                "line_number": 5,
                                                "column_number": 15
                                            }
                                        },
                                        "arguments": []
                                    }
                                },
                                {
                                    "type": "binary",
                                    "token": {
                                        "literal": ":",
                                        "type": "COLON",
                                        "line_number": 6,
                                        "column_number": 22
                                    },
                                    "lhs_exp": {
                                        "type": "identifier_or_literal",
                                        "token": {
                                            "literal": "\"basketball\"",
                                            "type": "STRING",
                                            "line_number": 6,
                                            "column_number": 9
                                        }
                                    },
                                    "rhs_exp": {
                                        "type": "binary",
                                        "token": {
                                            "literal": "+",
                                            "type": "PLUS",
                                            "line_number": 6,
                                            "column_number": 26
                                        },
                                        "lhs_exp": {
                                            "type": "identifier_or_literal",
                                            "token": {
                                                "literal": "1",
                                                "type": "INT",
                                                "line_number": 6,
                                                "column_number": 24
                                            }
                                        },
                                        "rhs_exp": {
                                            "type": "binary",
                                            "token": {
                                                "literal": "*",
                                                "type": "STAR",
                                                "line_number": 6,
                                                "column_number": 35
                                            },
                                            "lhs_exp": {
                                                "type": "binary",
                                                "token": {
                                                    "literal": "/",
                                                    "type": "SLASH",
                                                    "line_number": 6,
                                                    "column_number": 30
                                                },
                                                "lhs_exp": {
                                                    "type": "identifier_or_literal",
                                                    "token": {
                                                        "literal": "b",
                                                        "type": "IDENTIFIER",
                                                        "line_number": 6,
                                                        "column_number": 28
                                                    }
                                                },
                                                "rhs_exp": {
                                                    "type": "identifier_or_literal",
                                                    "token": {
                                                        "literal": "14",
                                                        "type": "INT",
                                                        "line_number": 6,
                                                        "column_number": 32
                                                    }
                                                }
                                            },
                                            "rhs_exp": {
                                                "type": "binary",
                                                "token": {
                                                    "literal": "-",
                                                    "type": "MINUS",
                                                    "line_number": 6,
                                                    "column_number": 42
                                                },
                                                "lhs_exp": {
                                                    "type": "identifier_or_literal",
                                                    "token": {
                                                        "literal": "11",
                                                        "type": "INT",
                                                        "line_number": 6,
                                                        "column_number": 39
                                                    }
                                                },
                                                "rhs_exp": {
                                                    "type": "identifier_or_literal",
                                                    "token": {
                                                        "literal": "16",
                                                        "type": "INT",
                                                        "line_number": 6,
                                                        "column_number": 43
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                {
                                    "type": "binary",
                                    "token": {
                                        "literal": ":",
                                        "type": "COLON",
                                        "line_number": 7,
                                        "column_number": 16
                                    },
                                    "lhs_exp": {
                                        "type": "identifier_or_literal",
                                        "token": {
                                            "literal": "\"test\"",
                                            "type": "STRING",
                                            "line_number": 7,
                                            "column_number": 9
                                        }
                                    },
                                    "rhs_exp": {
                                        "type": "collection",
                                        "left_delimiter": "LEFT_BRACE",
                                        "elements": [
                                            {
                                                "type": "binary",
                                                "token": {
                                                    "literal": ":",
                                                    "type": "COLON",
                                                    "line_number": 8,
                                                    "column_number": 23
                                                },
                                                "lhs_exp": {
                                                    "type": "identifier_or_literal",
                                                    "token": {
                                                        "literal": "\"subtest\"",
                                                        "type": "STRING",
                                                        "line_number": 8,
                                                        "column_number": 13
                                                    }
                                                },
                                                "rhs_exp": {
                                                    "type": "collection",
                                                    "left_delimiter": "LEFT_BRACKET",
                                                    "elements": [
                                                        {
                                                            "type": "identifier_or_literal",
                                                            "token": {
                                                                "literal": "\"item1\"",
                                                                "type": "STRING",
                                                                "line_number": 9,
                                                                "column_number": 17
                                                            }
                                                        },
                                                        {
                                                            "type": "collection",
                                                            "left_delimiter": "LEFT_BRACE",
                                                            "elements": [
                                                                {
                                                                    "type": "identifier_or_literal",
                                                                    "token": {
                                                                        "literal": "\"stuff\"",
                                                                        "type": "STRING",
                                                                        "line_number": 11,
                                                                        "column_number": 21
                                                                    }
                                                                },
                                                                {
                                                                    "type": "identifier_or_literal",
                                                                    "token": {
                                                                        "literal": "\"inaset\"",
                                                                        "type": "STRING",
                                                                        "line_number": 11,
                                                                        "column_number": 30
                                                                    }
                                                                },
                                                                {
                                                                    "type": "identifier_or_literal",
                                                                    "token": {
                                                                        "literal": "\"in a set\"",
                                                                        "type": "STRING",
                                                                        "line_number": 11,
                                                                        "column_number": 40
                                                                    }
                                                                }
                                                            ],
                                                            "right_delimiter": "RIGHT_BRACE"
                                                        }
                                                    ],
                                                    "right_delimiter": "RIGHT_BRACKET"
                                                }
                                            }
                                        ],
                                        "right_delimiter": "RIGHT_BRACE"
                                    }
                                }
                            ],
                            "right_delimiter": "RIGHT_BRACE"
                        }
                    }
                ]
            }
        ],
        "errors" : null
    }
]